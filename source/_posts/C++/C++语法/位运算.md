---
title: 位运算
date: 2019.5.17
tags:
category:
- C++
- C++语法
---

> 部分转自：https://www.zhihu.com/question/38206659/answer/75338913

0. 用位运算就多打括号！！！不然会炸

1. 判断一个数字x二进制下第i位是不是等于1

```c++
if ((1<<(i-1))&1)
```

2. 将一个数字x二进制下第i位更改成1。

```c++
x = x | ( 1<<(i-1) )
```

3. 把一个数字二进制下最靠右的第一个1去掉。

```c++
x=x&(x-1)
```

4. 取二进制下的最靠右第一位(12->4)

```c++
a&-a
```

5. 枚举时要求集合不能有两个相邻的元素

```c++
if ((mask >> 1) & mask) continue;
```

6. 在限定必须不取某些元素的前提下枚举子集

```c++
//mask的第x位为0表示x必须不在子集中(原集合中不含这个元素)
for (int mask1 = mask; mask1 >= 0; mask1 = (mask1 - 1) & mask)
```

7. 在限定必须取某些元素的前提下枚举子集

```c++
//mask的第x位为1表示x必须在子集中
for (int mask1 = mask; mask1 < (1 << m); mask1 = (mask1 + 1) | mask)
```

位运算常用于[状态压缩](/C++/ACM/状态压缩DP/)。
