---
title: 网络流
date: 2019-10-4
tags:
- 图论
- 搜索
category:
- C++
- ACM
---

在 ACM 中第一次听到网络流，但是还没认真学就被迫退役了。  
第二次是在肖老师的 [算法设计与分析](/计算机科学/Design_and_Analysis_of_Algorithms#网络流) 课程上，大概了解了网络流的思想。

## 定义

### 流网络

流网络（flow network）是一种带权有向图，但是有一个源点（source）和一个汇点（sink），每个权叫做该边的容量（capacity）$c(e)$。如下图。

![Flow Network](flow_network.png)

### 流

流是一个比较形象的概念，好比每个有向边都是一根管道，权重代表这根管道能流多少水。

但是要想用数学定义下来，还是比较麻烦。

> s-t 流是一个函数满足以下条件：
> 1. 对于图中任意一边 e，有 $0 \leq f(e) \leq c(e)$
> 2. 对于图中任意一点 v，有 $\sum_{e \\ in \\ to \\ v}f(e) = \sum_{e \\ out \\ of \\ v}f(e)$

流的价值： $v(f) = \sum_{e \\ out \\ of \\ s}f(e)$。  

最大流即为最大价值的流。

下图的一个流为 24。（但最大流为 28，从上往下流进 t 点的流量为 9、9、10，请读者自己思考这是如何达到的）

![流](flow.png)

### 割

然后我们要引入
s-t 割，就是把图分为 A、B两块，一块有 A，一块有B。并定义 `cut(A, B)` 的容量为流出 A 块的所有容量：

$$cap(A, B) = \sum_\text{e out of A} c(e)$$

![Cut](cut.png)

### 增广路算法

## 后记

最大流问题中还有一个经典的问题: 最小费用最大流问题。请大家自学。
对于求最大流的算法, 在实践中往往使用效率更高的 **`Dinic`** 算法或 **`ISAP`** 算法（参考《算法竞赛入门经典-训练指南》)。
**对于竞赛来说, 实际更重要的在于网络流模型的建立, 这时把网络流算法作为模板来使用就可以了。**
