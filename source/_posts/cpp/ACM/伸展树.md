---
title: 伸展树 (Splay Tree)
date: 2019-8-14
tags:
- 数据结构
- C++
- ACM
category:
- C++
- ACM
mathjax: true
---

C++中自带了二叉平衡树 `set` 和 `multiset`，但是功能有限，在查询两点中间差了多少个值的时候就显得很无力。于是诞生了一个词，叫 `手写~~抄板子~~二叉树`。由于空间要求和编程复杂度，常常采用伸展树 (Splay Tree)。

> 转自博客：
> https://blog.csdn.net/u014634338/article/details/49586689
> https://blog.csdn.net/u014634338/article/details/42465089

伸展树的出发点是这样的：考虑到局部性原理（刚被访问的内容下次可能仍会被访问，查找次数多的内容可能下一次会被访问），为了使整个查找时间更小，被查频率高的那些结点应当经常处于靠近树根的位置。这样，很容易得想到以下这个方案：每次查找结点之后对树进行重构，把被查找的结点搬移到树根，这种自调整形式的二叉查找树就是伸展树。每次对伸展树进行操作后，它均会通过旋转的方法把被访问结点旋转到树根的位置。

为了将当前被访问结点旋转到树根，我们通常将结点自底向上旋转，直至该结点成为树根为止。“旋转”的巧妙之处就是在不打乱数列中数据大小关系（指中序遍历结果是全序的）情况下，所有基本操作的平摊复杂度仍为 $O(log n)$。
